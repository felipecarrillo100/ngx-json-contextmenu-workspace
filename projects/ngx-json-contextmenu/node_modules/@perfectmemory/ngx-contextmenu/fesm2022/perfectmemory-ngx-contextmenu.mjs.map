{"version":3,"file":"perfectmemory-ngx-contextmenu.mjs","sources":["../../../projects/ngx-contextmenu/src/lib/helper/evaluate.ts","../../../projects/ngx-contextmenu/src/lib/components/context-menu-content/context-menu-content.component.ts","../../../projects/ngx-contextmenu/src/lib/components/context-menu-content/context-menu-content.component.html","../../../projects/ngx-contextmenu/src/lib/directives/context-menu-item/context-menu-item.directive.ts","../../../projects/ngx-contextmenu/src/lib/components/context-menu/context-menu.component.helpers.ts","../../../projects/ngx-contextmenu/src/lib/services/context-menu-stack/context-menu-stack.service.ts","../../../projects/ngx-contextmenu/src/lib/services/context-menu-event/context-menu-event.service.ts","../../../projects/ngx-contextmenu/src/lib/components/context-menu/context-menu.component.ts","../../../projects/ngx-contextmenu/src/lib/directives/context-menu/context-menu.directive.ts","../../../projects/ngx-contextmenu/src/lib/ngx-contextmenu.module.ts","../../../projects/ngx-contextmenu/src/lib/services/context-menu/context-menu.service.ts","../../../projects/ngx-contextmenu/src/public-api.ts","../../../projects/ngx-contextmenu/src/perfectmemory-ngx-contextmenu.ts"],"sourcesContent":["export const evaluateIfFunction = <T>(\n  value: boolean | ((value?: T) => boolean),\n  item?: T\n): boolean => {\n  if (value instanceof Function) {\n    return value(item);\n  }\n  return value;\n};\n","import { ActiveDescendantKeyManager } from '@angular/cdk/a11y';\nimport { OverlayRef } from '@angular/cdk/overlay';\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  HostBinding,\n  HostListener,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  QueryList,\n  ViewChildren,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { ContextMenuItemDirective } from '../../directives/context-menu-item/context-menu-item.directive';\nimport { evaluateIfFunction } from '../../helper/evaluate';\nimport {\n  ContextMenuCloseLeafEvent,\n  ContextMenuOpenEvent,\n} from '../context-menu/context-menu.component.interface';\n\nconst ARROW_LEFT_KEYCODE = 37;\nconst ARROW_RIGHT_KEYCODE = 39;\n\n/**\n * For testing purpose only\n */\nexport const TESTING_WRAPPER = {\n  ActiveDescendantKeyManager,\n};\n\n@Component({\n  selector: 'context-menu-content',\n  templateUrl: './context-menu-content.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ContextMenuContentComponent<T>\n  implements OnInit, OnDestroy, AfterViewInit\n{\n  /**\n   * The list of `ContextMenuItemDirective` that represent each menu items\n   */\n  @Input()\n  public menuDirectives: ContextMenuItemDirective<T>[] = [];\n\n  /**\n   * The item on which the menu act\n   */\n  @Input()\n  public value?: T;\n\n  /**\n   * The orientation of the component\n   * @see https://developer.mozilla.org/fr/docs/Web/HTML/Global_attributes/dir\n   */\n  @Input()\n  @HostBinding('attr.dir')\n  public dir: 'ltr' | 'rtl' | undefined;\n\n  /**\n   * The parent menu of the instance\n   */\n  @Input()\n  public parentContextMenu!: ContextMenuContentComponent<T>;\n\n  /**\n   * A CSS class to apply a theme to the the menu\n   */\n  @Input()\n  public menuClass: string = '';\n\n  /**\n   * The overlay ref associated to the instance\n   */\n  @Input()\n  public overlayRef: OverlayRef | undefined;\n\n  /**\n   * Wether the instance is a leaf menu or not\n   */\n  @Input()\n  public isLeaf = false;\n\n  /**\n   * Emit when a menu item is selected\n   */\n  @Output()\n  public execute: EventEmitter<{\n    event: MouseEvent | KeyboardEvent;\n    value?: T;\n    menuDirective: ContextMenuItemDirective<T>;\n  }> = new EventEmitter();\n\n  /**\n   * Emit when a sub menu is opened\n   */\n  @Output()\n  public openSubMenu: EventEmitter<ContextMenuOpenEvent<T>> =\n    new EventEmitter();\n\n  /**\n   * Emit when a leaf menu is closed\n   */\n  @Output()\n  public closeLeafMenu: EventEmitter<ContextMenuCloseLeafEvent> = new EventEmitter();\n\n  /**\n   * Emit when sub menus are closed\n   */\n  @Output()\n  public closeSubMenus: EventEmitter<void> = new EventEmitter();\n\n  /**\n   * Emit when all menus is closed\n   */\n  @Output()\n  public closeAllMenus: EventEmitter<{\n    event: MouseEvent;\n  }> = new EventEmitter();\n\n  /**\n   * @internal\n   */\n  @ViewChildren('li')\n  public liElementRefs!: QueryList<ElementRef>;\n\n  private keyManager!: ActiveDescendantKeyManager<ContextMenuItemDirective<T>>;\n  private subscription: Subscription = new Subscription();\n\n  // TODO: should be private but issue in spec with NullInjectorError: No provider for ElementRef!\n  constructor(public _elementRef: ElementRef<HTMLElement>) {}\n\n  /**\n   * @internal\n   */\n  public ngOnInit(): void {\n    this.setupDirectives();\n  }\n\n  /**\n   * @internal\n   */\n  public ngAfterViewInit() {\n    this.overlayRef?.updatePosition();\n  }\n\n  /**\n   * @internal\n   */\n  public ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n\n  /**\n   * @internal\n   */\n  @HostListener('window:keydown.ArrowDown', ['$event'])\n  @HostListener('window:keydown.ArrowUp', ['$event'])\n  public onKeyArrowDownOrUp(event: KeyboardEvent): void {\n    if (!this.isLeaf) {\n      return;\n    }\n\n    this.keyManager.onKeydown(event);\n  }\n\n  /**\n   * @internal\n   */\n  @HostListener('window:keydown.ArrowRight', ['$event'])\n  public onKeyArrowRight(event: KeyboardEvent): void {\n    if (!this.isLeaf) {\n      return;\n    }\n\n    if (this.dir === 'rtl') {\n      this.closeActiveItemSubMenu(event);\n      return;\n    }\n\n    this.openActiveItemSubMenu(event);\n  }\n\n  /**\n   * @internal\n   */\n  @HostListener('window:keydown.ArrowLeft', ['$event'])\n  public onKeyArrowLeft(event: KeyboardEvent): void {\n    if (!this.isLeaf) {\n      return;\n    }\n\n    if (this.dir === 'rtl') {\n      this.openActiveItemSubMenu(event);\n      return;\n    }\n\n    this.closeActiveItemSubMenu(event);\n  }\n\n  /**\n   * @internal\n   */\n  @HostListener('window:keydown.Enter', ['$event'])\n  @HostListener('window:keydown.Space', ['$event'])\n  public onKeyEnterOrSpace(event: KeyboardEvent): void {\n    if (!this.isLeaf) {\n      return;\n    }\n\n    if (!this.keyManager.activeItem) {\n      return;\n    }\n\n    this.onMenuItemSelect(this.keyManager.activeItem, event);\n  }\n\n  /**\n   * @internal\n   */\n  @HostListener('window:keydown.Escape', ['$event'])\n  public onKeyArrowEscape(event: KeyboardEvent): void {\n    if (!this.isLeaf) {\n      return;\n    }\n\n    this.closeActiveItemSubMenu(event);\n  }\n\n  /**\n   * @internal\n   */\n  @HostListener('document:click', ['$event'])\n  @HostListener('document:contextmenu', ['$event'])\n  public onClickOrRightClick(event: MouseEvent): void {\n    if (event.type === 'click' && event.button === 2) {\n      return;\n    }\n\n    if (this._elementRef.nativeElement.contains(event.target as Node)) {\n      return;\n    }\n\n    this.closeAllMenus.emit({ event });\n  }\n\n  /**\n   * @internal\n   */\n  public stopEvent(event: MouseEvent) {\n    event.stopPropagation();\n  }\n\n  /**\n   * @internal\n   */\n  public isMenuItemDisabled(menuItem: ContextMenuItemDirective<T>): boolean {\n    return evaluateIfFunction(menuItem.disabled, this.value);\n  }\n\n  /**\n   * @internal\n   */\n  public isMenuItemVisible(menuItem: ContextMenuItemDirective<T>): boolean {\n    return evaluateIfFunction(menuItem.visible, this.value);\n  }\n\n  /**\n   * @internal\n   */\n  public onOpenSubMenu(\n    menuItem: ContextMenuItemDirective<T>,\n    event: MouseEvent | KeyboardEvent\n  ): void {\n    if (!menuItem.subMenu) {\n      this.closeSubMenus.next();\n    }\n\n    if (this.keyManager.activeItemIndex === null || !menuItem.subMenu) {\n      return;\n    }\n\n    const anchorElementRef =\n      this.liElementRefs.toArray()[this.keyManager.activeItemIndex];\n    const anchorElement = anchorElementRef && anchorElementRef.nativeElement;\n\n    if (anchorElement && event instanceof KeyboardEvent) {\n      this.openSubMenu.emit({\n        anchoredTo: 'element',\n        anchorElement,\n        contextMenu: menuItem.subMenu,\n        value: this.value,\n        parentContextMenu: this,\n      });\n    } else if (event.currentTarget) {\n      this.openSubMenu.emit({\n        anchoredTo: 'element',\n        anchorElement: event.currentTarget,\n        contextMenu: menuItem.subMenu,\n        value: this.value,\n        parentContextMenu: this,\n      });\n    } else {\n      this.openSubMenu.emit({\n        anchoredTo: 'position',\n        x: (event as MouseEvent).clientX,\n        y: (event as MouseEvent).clientY,\n        contextMenu: menuItem.subMenu,\n        value: this.value,\n      });\n    }\n  }\n\n  /**\n   * @internal\n   */\n  public onMenuItemSelect(\n    menuItem: ContextMenuItemDirective<T>,\n    event: MouseEvent | KeyboardEvent\n  ): void {\n    this.cancelEvent(event);\n    this.onOpenSubMenu(menuItem, event);\n    if (!menuItem.subMenu) {\n      this.triggerExecute(menuItem, event);\n    }\n  }\n\n  private triggerExecute(\n    menuItem: ContextMenuItemDirective<T>,\n    event: MouseEvent | KeyboardEvent\n  ): void {\n    menuItem.triggerExecute(event, this.value);\n  }\n\n  private setupDirectives() {\n    this.menuDirectives.forEach((menuDirective) => {\n      menuDirective.value = this.value;\n      this.subscription.add(\n        menuDirective.execute.subscribe((event) =>\n          this.execute.emit({ ...event, menuDirective })\n        )\n      );\n    });\n    const queryList = new QueryList<ContextMenuItemDirective<T>>();\n    queryList.reset(this.menuDirectives);\n    this.keyManager = new TESTING_WRAPPER.ActiveDescendantKeyManager<\n      ContextMenuItemDirective<T>\n    >(queryList).withWrap();\n  }\n\n  private openActiveItemSubMenu(event: KeyboardEvent) {\n    if (this.keyManager.activeItemIndex === null) {\n      return;\n    }\n\n    this.cancelEvent(event);\n\n    if (this.keyManager.activeItem) {\n      this.onOpenSubMenu(this.keyManager.activeItem, event);\n    }\n  }\n\n  private closeActiveItemSubMenu(event: KeyboardEvent) {\n    if (this.keyManager.activeItemIndex === null) {\n      return;\n    }\n\n    this.cancelEvent(event);\n\n    this.closeLeafMenu.emit({\n      excludeRootMenu:\n        this.dir === 'rtl'\n          ? event.keyCode === ARROW_RIGHT_KEYCODE\n          : event.keyCode === ARROW_LEFT_KEYCODE,\n      event,\n    });\n  }\n\n  private cancelEvent(event?: MouseEvent | KeyboardEvent): void {\n    if (!event || !event.target) {\n      return;\n    }\n\n    const target = event.target as HTMLElement;\n    if (\n      ['INPUT', 'TEXTAREA', 'SELECT'].includes(target.tagName) ||\n      target.isContentEditable\n    ) {\n      return;\n    }\n\n    event.preventDefault();\n    event.stopPropagation();\n  }\n}\n","<div class=\"ngx-contextmenu\" [ngClass]=\"menuClass\" [attr.dir]=\"dir\">\n  <ul #menu class=\"ngx-contextmenu--dropdown-menu\" role=\"menu\" tabindex=\"0\">\n    <li\n      #li\n      *ngFor=\"let menuDirective of menuDirectives; let i = index\"\n      [class.disabled]=\"isMenuItemDisabled(menuDirective)\"\n      [class.divider]=\"menuDirective.divider\"\n      [class.active]=\"\n        menuDirective.isActive && !isMenuItemDisabled(menuDirective)\n      \"\n      [attr.role]=\"menuDirective.divider ? 'separator' : undefined\"\n      role=\"none\"\n    >\n      <hr *ngIf=\"menuDirective.divider\" role=\"separator\" />\n      <button\n        *ngIf=\"!menuDirective.divider && !menuDirective.passive\"\n        type=\"button\"\n        role=\"menuitem\"\n        class=\"ngx-contextmenu--item-content\"\n        [attr.aria-haspopup]=\"!!menuDirective.subMenu\"\n        [class.ngx-contextmenu--parent-menu]=\"!!menuDirective.subMenu\"\n        [class.active]=\"\n          menuDirective.isActive && !isMenuItemDisabled(menuDirective)\n        \"\n        [class.disabled]=\"isMenuItemDisabled(menuDirective)\"\n        [attr.disabled]=\"isMenuItemDisabled(menuDirective) ? 'disabled' : null\"\n        (click)=\"onMenuItemSelect(menuDirective, $event)\"\n        (mouseenter)=\"onOpenSubMenu(menuDirective, $event)\"\n      >\n        <ng-template\n          [ngTemplateOutlet]=\"menuDirective.template\"\n          [ngTemplateOutletContext]=\"{ item: value }\"\n        ></ng-template>\n      </button>\n\n      <span\n        *ngIf=\"!menuDirective.divider && menuDirective.passive\"\n        class=\"ngx-contextmenu--item-content ngx-contextmenu--item-content-passive\"\n        role=\"menuitem\"\n        (click)=\"stopEvent($event)\"\n        (contextmenu)=\"stopEvent($event)\"\n        [class.disabled]=\"isMenuItemDisabled(menuDirective)\"\n      >\n        <ng-template\n          [ngTemplateOutlet]=\"menuDirective.template\"\n          [ngTemplateOutletContext]=\"{ item: value }\"\n        ></ng-template>\n      </span>\n    </li>\n  </ul>\n</div>\n","import { Highlightable } from '@angular/cdk/a11y';\nimport {\n  Directive,\n  EventEmitter,\n  Input,\n  Optional,\n  Output,\n  TemplateRef,\n} from '@angular/core';\nimport { ContextMenuComponent } from '../../components/context-menu/context-menu.component';\nimport { evaluateIfFunction } from '../../helper/evaluate';\n\n@Directive({\n  selector: '[contextMenuItem]',\n})\nexport class ContextMenuItemDirective<T> implements Highlightable {\n  /**\n   * Optional subMenu component ref\n   */\n  @Input()\n  public subMenu?: ContextMenuComponent<T>;\n\n  /**\n   * True to make this menu item a divider\n   */\n  @Input()\n  public divider = false;\n\n  /**\n   * Is this menu item disabled\n   */\n  @Input()\n  public set disabled(disabled: boolean | ((value?: T) => boolean)) {\n    this.#disabled = disabled;\n  }\n\n  public get disabled(): boolean {\n    return (\n      this.passive ||\n      this.divider ||\n      evaluateIfFunction(this.#disabled, this.value)\n    );\n  }\n\n  /**\n   * Is this menu item passive (for title)\n   */\n  @Input()\n  public passive = false;\n\n  /**\n   * Is this menu item visible\n   */\n  @Input()\n  public visible: boolean | ((value?: T) => boolean) = true;\n\n  /**\n   * Emits event and item\n   */\n  @Output()\n  public execute: EventEmitter<{\n    event: MouseEvent | KeyboardEvent;\n    value?: T;\n  }> = new EventEmitter();\n\n  /**\n   * @internal\n   */\n  public value?: T;\n\n  /**\n   * @internal\n   */\n  public isActive = false;\n\n  #disabled: boolean | ((value?: T) => boolean) = false;\n\n  constructor(\n    @Optional()\n    public template: TemplateRef<{ item: T }>\n  ) {}\n\n  public setActiveStyles(): void {\n    this.isActive = true;\n  }\n\n  public setInactiveStyles(): void {\n    this.isActive = false;\n  }\n\n  /**\n   * @internal\n   */\n  public triggerExecute(event: MouseEvent | KeyboardEvent, value?: T): void {\n    if (evaluateIfFunction(this.#disabled, value)) {\n      return;\n    }\n\n    this.execute.emit({ event, value });\n  }\n}\n","import { ConnectedPosition } from '@angular/cdk/overlay';\n\nexport const getPositionsToXY = (\n  dir: 'rtl' | 'ltr' = 'ltr'\n): ConnectedPosition[] => {\n  if (dir === 'ltr') {\n    return [\n      {\n        originX: 'start',\n        originY: 'bottom',\n        overlayX: 'start',\n        overlayY: 'top',\n      },\n      {\n        originX: 'start',\n        originY: 'top',\n        overlayX: 'start',\n        overlayY: 'bottom',\n      },\n      {\n        originX: 'end',\n        originY: 'top',\n        overlayX: 'start',\n        overlayY: 'top',\n      },\n      {\n        originX: 'start',\n        originY: 'top',\n        overlayX: 'end',\n        overlayY: 'top',\n      },\n      {\n        originX: 'end',\n        originY: 'center',\n        overlayX: 'start',\n        overlayY: 'center',\n      },\n      {\n        originX: 'start',\n        originY: 'center',\n        overlayX: 'end',\n        overlayY: 'center',\n      },\n    ];\n  }\n\n  return [\n    {\n      originX: 'end',\n      originY: 'bottom',\n      overlayX: 'end',\n      overlayY: 'top',\n    },\n    {\n      originX: 'end',\n      originY: 'top',\n      overlayX: 'end',\n      overlayY: 'bottom',\n    },\n    {\n      originX: 'start',\n      originY: 'top',\n      overlayX: 'end',\n      overlayY: 'top',\n    },\n    {\n      originX: 'end',\n      originY: 'top',\n      overlayX: 'start',\n      overlayY: 'top',\n    },\n    {\n      originX: 'start',\n      originY: 'center',\n      overlayX: 'end',\n      overlayY: 'center',\n    },\n    {\n      originX: 'end',\n      originY: 'center',\n      overlayX: 'start',\n      overlayY: 'center',\n    },\n  ];\n};\n\nexport const getPositionsToAnchorElement = (\n  dir: 'rtl' | 'ltr' = 'ltr'\n): ConnectedPosition[] => {\n  if (dir === 'ltr') {\n    return [\n      {\n        originX: 'end',\n        originY: 'top',\n        overlayX: 'start',\n        overlayY: 'top',\n      },\n      {\n        originX: 'start',\n        originY: 'top',\n        overlayX: 'end',\n        overlayY: 'top',\n      },\n      {\n        originX: 'end',\n        originY: 'bottom',\n        overlayX: 'start',\n        overlayY: 'bottom',\n      },\n      {\n        originX: 'start',\n        originY: 'bottom',\n        overlayX: 'end',\n        overlayY: 'bottom',\n      },\n    ];\n  } else {\n    return [\n      {\n        originX: 'start',\n        originY: 'top',\n        overlayX: 'end',\n        overlayY: 'top',\n      },\n      {\n        originX: 'end',\n        originY: 'top',\n        overlayX: 'start',\n        overlayY: 'top',\n      },\n      {\n        originX: 'start',\n        originY: 'bottom',\n        overlayX: 'end',\n        overlayY: 'bottom',\n      },\n      {\n        originX: 'end',\n        originY: 'bottom',\n        overlayX: 'start',\n        overlayY: 'bottom',\n      },\n    ];\n  }\n};\n","import { OverlayRef } from '@angular/cdk/overlay';\nimport { Injectable } from '@angular/core';\nimport { ContextMenuContentComponent } from '../../components/context-menu-content/context-menu-content.component';\n\nexport interface ContextMenuStackItem<T> {\n  overlayRef: OverlayRef;\n  contextMenuContentComponent: ContextMenuContentComponent<T>;\n}\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ContextMenuStackService<T> {\n  private stack: ContextMenuStackItem<T>[] = [];\n\n  /**\n   * Add an item to the stack\n   */\n  public push(value: ContextMenuStackItem<T>) {\n    this.stack.push(value);\n  }\n\n  /**\n   * Return the stack size\n   */\n  public size(): number {\n    return this.stack.length;\n  }\n\n  /**\n   * Return true if the stack is empty\n   */\n  public isEmpty(): boolean {\n    return this.size() === 0;\n  }\n\n  /**\n   * Clear the whole stack\n   */\n  public closeAll(): void {\n    this.stack.forEach((item) => this.dispose(item));\n    this.stack = [];\n  }\n\n  /**\n   * Detach and dispose sub menu's overlays of the given ContextMenuContentComponent\n   */\n  public destroySubMenus(contextMenu: ContextMenuContentComponent<T>): void {\n    if (!contextMenu) {\n      return;\n    }\n\n    const index = this.stack.findIndex(\n      ({ overlayRef }) => overlayRef === contextMenu.overlayRef\n    );\n    this.stack.slice(index + 1).forEach((item) => {\n      this.dispose(item);\n    });\n  }\n\n  /**\n   * Destroy leaf menu and return true if the destroyed menu is the root\n   */\n  public closeLeafMenu(excludeRootMenu: boolean): boolean {\n    const item = this.disposeLastDetached();\n\n    if (!item) {\n      return false;\n    }\n\n    const moreThanOneItem = this.size() > 1;\n    const isNotEmptyAndDoesNotExcludeRootMenu =\n      !excludeRootMenu && !this.isEmpty();\n\n    if (moreThanOneItem || isNotEmptyAndDoesNotExcludeRootMenu) {\n      this.dispose(item);\n    }\n\n    if (isNotEmptyAndDoesNotExcludeRootMenu) {\n      return true;\n    }\n\n    const newValue = this.disposeLastDetached();\n\n    if (newValue) {\n      newValue.contextMenuContentComponent.isLeaf = true;\n    }\n\n    return false;\n  }\n\n  /**\n   * Starting by most recent items, dispose all detached item and return the most recent attached one\n   */\n  private disposeLastDetached(): ContextMenuStackItem<T> | undefined {\n    let item = this.last();\n\n    if (!item) {\n      return;\n    }\n\n    while (\n      item &&\n      this.size() > 1 &&\n      item.overlayRef &&\n      this.isDetached(item)\n    ) {\n      this.dispose(item);\n      this.pop();\n      item = this.last();\n    }\n    return item;\n  }\n\n  private last(): ContextMenuStackItem<T> | undefined {\n    if (this.isEmpty()) {\n      return;\n    }\n\n    return this.stack[this.stack.length - 1];\n  }\n\n  private pop(): ContextMenuStackItem<T> | undefined {\n    const value = this.stack.pop();\n    return this.dispose(value);\n  }\n\n  private isDetached(item: ContextMenuStackItem<T>): boolean {\n    return !item.overlayRef.hasAttached();\n  }\n\n  private dispose(\n    item: ContextMenuStackItem<T> | undefined\n  ): ContextMenuStackItem<T> | undefined {\n    if (item) {\n      item.overlayRef.detach();\n      item.overlayRef.dispose();\n    }\n\n    return item;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { ContextMenuOpenEvent } from '../../components/context-menu/context-menu.component.interface';\n\n/**\n * @internal\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class ContextMenuEventService<T> {\n  public onShow: Subject<ContextMenuOpenEvent<T>> = new Subject();\n\n  public show(options: ContextMenuOpenEvent<T>) {\n    this.onShow.next(options);\n  }\n}\n","import {\n  FlexibleConnectedPositionStrategy,\n  Overlay,\n  OverlayRef,\n  ScrollStrategyOptions,\n} from '@angular/cdk/overlay';\nimport { ComponentPortal } from '@angular/cdk/portal';\nimport {\n  Component,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  Output,\n  QueryList,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { ContextMenuItemDirective } from '../../directives/context-menu-item/context-menu-item.directive';\nimport { evaluateIfFunction } from '../../helper/evaluate';\nimport { ContextMenuEventService } from '../../services/context-menu-event/context-menu-event.service';\nimport { ContextMenuStackService } from '../../services/context-menu-stack/context-menu-stack.service';\nimport { ContextMenuContentComponent } from '../context-menu-content/context-menu-content.component';\nimport {\n  getPositionsToAnchorElement,\n  getPositionsToXY,\n} from './context-menu.component.helpers';\nimport {\n  ContextMenuOpenEvent,\n  IContextMenuContext,\n} from './context-menu.component.interface';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  selector: 'context-menu',\n  template: '',\n})\nexport class ContextMenuComponent<T> implements OnDestroy {\n  /**\n   * A CSS class to apply to the context menu overlay, ideal for theming and custom styling\n   */\n  @Input()\n  public menuClass = '';\n\n  /**\n   * Disable the whole context menu\n   */\n  @Input()\n  public disabled = false;\n\n  /**\n   * Whether the menu is oriented to the right (default: `ltr`) or to the right (`rtl`)\n   */\n  @Input()\n  public dir: 'ltr' | 'rtl' | undefined;\n\n  /**\n   * Emit when the menu is opened\n   */\n  @Output()\n  public open: EventEmitter<ContextMenuOpenEvent<T>> = new EventEmitter();\n\n  /**\n   * Emit when the menu is closed\n   */\n  @Output()\n  public close: EventEmitter<void> = new EventEmitter();\n\n  /**\n   * The menu item directives defined inside the component\n   */\n  @ContentChildren(ContextMenuItemDirective)\n  public menuItems!: QueryList<ContextMenuItemDirective<T>>;\n\n  /**\n   * @internal\n   */\n  public visibleMenuItems: ContextMenuItemDirective<T>[] = [];\n  /**\n   * @internal\n   */\n  public value?: T;\n\n  private subscription: Subscription = new Subscription();\n\n  constructor(\n    private overlay: Overlay,\n    private scrollStrategy: ScrollStrategyOptions,\n    private contextMenuStack: ContextMenuStackService<T>,\n    private contextMenuEventService: ContextMenuEventService<T>\n  ) {}\n\n  /**\n   * @internal\n   */\n  public ngOnInit(): void {\n    const subscription = this.contextMenuEventService.onShow.subscribe(\n      (menuEvent) => {\n        this.onMenuEvent(menuEvent);\n      }\n    );\n\n    this.subscription.add(subscription);\n  }\n\n  /**\n   * @internal\n   */\n  public ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  /**\n   * Open context menu\n   */\n  public openContextMenu(context: IContextMenuContext<T>) {\n    let positionStrategy: FlexibleConnectedPositionStrategy;\n\n    if (context.anchoredTo === 'position') {\n      positionStrategy = this.overlay\n        .position()\n        .flexibleConnectedTo({\n          x: context.x,\n          y: context.y,\n        })\n        .withPositions(getPositionsToXY(context.dir));\n      this.closeAllContextMenus();\n    } else {\n      const { anchorElement, parentContextMenu } = context;\n      positionStrategy = this.overlay\n        .position()\n        .flexibleConnectedTo(new ElementRef(anchorElement))\n        .withPositions(getPositionsToAnchorElement(parentContextMenu.dir));\n      this.contextMenuStack.destroySubMenus(parentContextMenu);\n    }\n\n    const overlayRef = this.overlay.create({\n      positionStrategy,\n      panelClass: 'ngx-contextmenu',\n      scrollStrategy: this.scrollStrategy.close(),\n    });\n    this.attachContextMenu(overlayRef, context);\n  }\n\n  private onMenuEvent(event: ContextMenuOpenEvent<T>): void {\n    if (this.disabled) {\n      return;\n    }\n\n    const { contextMenu, value } = event;\n\n    if (contextMenu && contextMenu !== this) {\n      return;\n    }\n\n    this.value = value;\n    this.setVisibleMenuItems();\n\n    this.openContextMenu({\n      ...event,\n      menuItemDirectives: this.visibleMenuItems,\n      menuClass: this.menuClass,\n      dir: this.dir,\n    });\n\n    this.open.next(event);\n  }\n\n  private attachContextMenu(\n    overlayRef: OverlayRef,\n    context: IContextMenuContext<T>\n  ): void {\n    const { value, menuItemDirectives } = context;\n    const contextMenuContentRef = overlayRef.attach(\n      new ComponentPortal<ContextMenuContentComponent<T>>(\n        ContextMenuContentComponent\n      )\n    );\n\n    const { instance: contextMenuContentComponent } = contextMenuContentRef;\n\n    contextMenuContentComponent.value = value;\n    contextMenuContentComponent.menuDirectives = menuItemDirectives;\n    contextMenuContentComponent.overlayRef = overlayRef;\n    contextMenuContentComponent.isLeaf = true;\n    contextMenuContentComponent.menuClass = this.getMenuClass(context);\n    contextMenuContentComponent.dir = this.getDir(context);\n\n    this.contextMenuStack.push({\n      overlayRef,\n      contextMenuContentComponent,\n    });\n\n    const subscriptions: Subscription = new Subscription();\n    subscriptions.add(\n      contextMenuContentComponent.execute.subscribe(() =>\n        this.closeAllContextMenus()\n      )\n    );\n    subscriptions.add(\n      contextMenuContentComponent.closeAllMenus.subscribe(() =>\n        this.closeAllContextMenus()\n      )\n    );\n    subscriptions.add(\n      contextMenuContentComponent.closeLeafMenu.subscribe(\n        (closeLeafMenuEvent) =>\n          this.destroyLeafMenu(!!closeLeafMenuEvent.excludeRootMenu)\n      )\n    );\n    subscriptions.add(\n      contextMenuContentComponent.openSubMenu.subscribe(\n        (openSubMenuEvent: ContextMenuOpenEvent<T>) => {\n          this.contextMenuStack.destroySubMenus(contextMenuContentComponent);\n          if (!openSubMenuEvent.contextMenu) {\n            contextMenuContentComponent.isLeaf = true;\n            return;\n          }\n          contextMenuContentComponent.isLeaf = false;\n          this.contextMenuEventService.show(openSubMenuEvent);\n        }\n      )\n    );\n    subscriptions.add(\n      contextMenuContentComponent.closeSubMenus.subscribe(() => {\n        this.contextMenuStack.destroySubMenus(contextMenuContentComponent);\n      })\n    );\n    contextMenuContentRef.onDestroy(() => {\n      this.close.next();\n      menuItemDirectives.forEach((menuItem) => (menuItem.isActive = false));\n      subscriptions.unsubscribe();\n    });\n    contextMenuContentRef.changeDetectorRef.detectChanges();\n  }\n\n  private getMenuClass(event: IContextMenuContext<T>): string {\n    return (\n      event.menuClass ||\n      (event.anchoredTo === 'element' && event?.parentContextMenu?.menuClass) ||\n      ''\n    );\n  }\n\n  private getDir(event: IContextMenuContext<T>): 'ltr' | 'rtl' | undefined {\n    return (\n      event.dir ||\n      (event.anchoredTo === 'element' && event?.parentContextMenu?.dir) ||\n      undefined\n    );\n  }\n\n  private closeAllContextMenus(): void {\n    this.contextMenuStack.closeAll();\n  }\n\n  private destroyLeafMenu(excludeRootMenu: boolean): void {\n    this.contextMenuStack.closeLeafMenu(excludeRootMenu);\n  }\n\n  private isMenuItemVisible(menuItem: ContextMenuItemDirective<T>): boolean {\n    return evaluateIfFunction(menuItem.visible, this.value);\n  }\n\n  private setVisibleMenuItems(): void {\n    this.visibleMenuItems = this.menuItems.filter((menuItem) =>\n      this.isMenuItemVisible(menuItem)\n    );\n  }\n}\n","import {\n  Directive,\n  ElementRef,\n  HostBinding,\n  HostListener,\n  Input,\n} from '@angular/core';\nimport { ContextMenuComponent } from '../../components/context-menu/context-menu.component';\nimport { ContextMenuEventService } from '../../services/context-menu-event/context-menu-event.service';\nimport { ContextMenuStackService } from '../../services/context-menu-stack/context-menu-stack.service';\n\n@Directive({\n  selector: '[contextMenu]',\n  exportAs: 'ngxContextMenu',\n})\nexport class ContextMenuDirective<T> {\n  /**\n   * The value related to the context menu\n   */\n  @Input()\n  public contextMenuValue!: T;\n\n  /**\n   * The component holding the menu item directive templates\n   */\n  @Input()\n  public contextMenu!: ContextMenuComponent<T>;\n\n  /**\n   * The directive must have a tabindex for being accessible\n   */\n  @Input()\n  @HostBinding('attr.tabindex')\n  public tabindex: string | number = '0';\n\n  /**\n   * Accessibility\n   *\n   * @internal\n   */\n  @HostBinding('attr.aria-haspopup')\n  public ariaHasPopup = 'true';\n\n  constructor(\n    private contextMenuEventService: ContextMenuEventService<T>,\n    private elementRef: ElementRef<HTMLElement>,\n    private contextMenuStackService: ContextMenuStackService<T>\n  ) {}\n\n  /**\n   * Programmatically open the context menu\n   */\n  public open(event?: MouseEvent): void {\n    if (!this.canOpen()) {\n      return;\n    }\n\n    if (event instanceof MouseEvent) {\n      this.onContextMenu(event);\n      return;\n    }\n\n    const { x, y, height } =\n      this.elementRef.nativeElement.getBoundingClientRect();\n\n    this.contextMenuEventService.show({\n      anchoredTo: 'position',\n      x,\n      y: y + height,\n      contextMenu: this.contextMenu,\n      value: this.contextMenuValue,\n    });\n  }\n\n  /**\n   * Programmatically close the context menu\n   */\n  public close(): void {\n    this.contextMenuStackService.closeAll();\n  }\n\n  /**\n   * @internal\n   */\n  @HostListener('contextmenu', ['$event'])\n  public onContextMenu(event: MouseEvent): void {\n    if (!this.canOpen()) {\n      return;\n    }\n\n    this.contextMenuEventService.show({\n      anchoredTo: 'position',\n      contextMenu: this.contextMenu,\n      x: event.clientX,\n      y: event.clientY,\n      value: this.contextMenuValue,\n    });\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  private canOpen(): boolean {\n    return this.contextMenu && !this.contextMenu.disabled;\n  }\n}\n","import {\n  FullscreenOverlayContainer,\n  OverlayContainer,\n  OverlayModule,\n} from '@angular/cdk/overlay';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ContextMenuContentComponent } from './components/context-menu-content/context-menu-content.component';\nimport { ContextMenuComponent } from './components/context-menu/context-menu.component';\nimport { ContextMenuItemDirective } from './directives/context-menu-item/context-menu-item.directive';\nimport { ContextMenuDirective } from './directives/context-menu/context-menu.directive';\n\n@NgModule({\n  declarations: [\n    ContextMenuDirective,\n    ContextMenuComponent,\n    ContextMenuContentComponent,\n    ContextMenuItemDirective,\n  ],\n  providers: [\n    { provide: OverlayContainer, useClass: FullscreenOverlayContainer },\n  ],\n  exports: [\n    ContextMenuDirective,\n    ContextMenuComponent,\n    ContextMenuItemDirective,\n  ],\n  imports: [CommonModule, OverlayModule],\n})\nexport class ContextMenuModule {}\n","import { Injectable } from '@angular/core';\nimport { ContextMenuComponent } from '../../components/context-menu/context-menu.component';\nimport { ContextMenuEventService } from '../context-menu-event/context-menu-event.service';\nimport { ContextMenuStackService } from '../context-menu-stack/context-menu-stack.service';\n\nexport interface ContextMenuOpenAtPositionOptions<T> {\n  /**\n   * Optional associated data to the context menu, will be emitted when a menu item is selected\n   */\n  value?: T;\n  /**\n   * The horizontal position of the menu\n   */\n  x: number;\n  /**\n   * The vertical position of the menu\n   */\n  y: number;\n}\nexport interface ContextMenuOpenAtElementOptions<T> {\n  /**\n   * Optional associated data to the context menu, will be emitted when a menu item is selected\n   */\n  value?: T;\n  /**\n   * The horizontal position of the menu\n   */\n  x: number;\n  /**\n   * The vertical position of the menu\n   */\n  y: number;\n}\n\n/**\n * Programmatically open a ContextMenuComponent to a X/Y position\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class ContextMenuService<T> {\n  constructor(private contextMenuEventService: ContextMenuEventService<T>,\n              private contextMenuStackService: ContextMenuStackService<T>) {}\n  /**\n   * Show the given `ContextMenuComponent` at a specified X/Y position\n   */\n  public show(\n    contextMenu: ContextMenuComponent<T>,\n    options: ContextMenuOpenAtPositionOptions<T> = { x: 0, y: 0 }\n  ) {\n    this.contextMenuEventService.show({\n      anchoredTo: 'position',\n      contextMenu,\n      value: options.value,\n      x: options.x,\n      y: options.y,\n    });\n  }\n\n  /**\n   * Close all open `ContextMenuComponent`\n   */\n  public closeAll(): void {\n    this.contextMenuStackService.closeAll();\n  }\n\n  /**\n   * Return true if any `ContextMenuComponent` is open\n   */\n  public hasOpenMenu(): boolean {\n    return !this.contextMenuStackService.isEmpty();\n  }\n}\n","/*\n * Public API Surface of @perfectmemory/ngx-contextmenu\n */\n\nexport { ContextMenuModule } from './lib/ngx-contextmenu.module';\n/**\n * Components\n */\nexport { ContextMenuComponent } from './lib/components/context-menu/context-menu.component';\nexport {\n  ContextMenuCloseEvent,\n  ContextMenuOpenEvent,\n} from './lib/components/context-menu/context-menu.component.interface';\n/**\n * Directives\n */\nexport { ContextMenuItemDirective } from './lib/directives/context-menu-item/context-menu-item.directive';\nexport { ContextMenuDirective } from './lib/directives/context-menu/context-menu.directive';\n/**\n * Services\n */\nexport { ContextMenuService } from './lib/services/context-menu/context-menu.service';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i1","i2.ContextMenuStackService","i3.ContextMenuEventService","i1.ContextMenuEventService"],"mappings":"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"}